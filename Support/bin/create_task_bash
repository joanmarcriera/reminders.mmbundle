#!/bin/bash

# Using osascript via bash. For some reason, using osascript directly prevents the Reminders.app from being launched.
osascript <<END

on run argv
	set theFilename to "$1"
	set theName to do shell script "head -n1 " & theFilename
	set theNote to do shell script "tail -n+2 " & theFilename
	set theDay to do shell script "echo $MM_WHEN_DAY"
	set theTime to do shell script "echo $MM_WHEN_TIME"

	tell application "Reminders"
		-- set theReminder to make new reminder with properties {name:theName, body:theNote, due date:date today + theDay theTime}
		set theReminder to make new reminder with properties {name:theName, body:theNote, due date:date "11/01/2023 9am"}
		-- This style had iCloud synchronization problems:
		-- set theReminder to make new reminder
		-- set name of theReminder to theName
		-- set body of theReminder to theNote
	end tell
end run
END


set theLines to {"task name 1", "task name 2"}
repeat with eachLine in theLines
	tell application "Reminders"
		set mylist to list "Your List Name"
		tell mylist
			make new reminder at end with properties {name:eachLine, due date:date "7/10/2014 3:00 PM"}
		end tell
	end tell
end repeat